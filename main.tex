\documentclass{article}

\usepackage[letterpaper, margin=1in]{geometry}

% Add Japanese language and furigana support
\usepackage{xeCJK}
\usepackage[overlap]{ruby}

% Adds the adjustwidth command
\usepackage{changepage}

% Set paragraph auto indent to 0
\usepackage{parskip}

% Adds 'Set' command for multiple lines in braces
\usepackage{braket}

% Create a hyperlinked table of contents
\usepackage{hyperref}
\hypersetup{
    linktoc=all % hyperlink both sections and subsections
}

%%%%%%%%%%% stolen from https://tex.stackexchange.com/a/48549 because soul package was being a pain
\usepackage{xcolor}
\usepackage[normalem]{ulem} % use normalem to protect \emph
\newcommand\hl{\bgroup\markoverwith
    {\textcolor{yellow}{\rule[-.5ex]{1pt}{2.5ex}}}\ULon}
%%%%%%%%%%%%

% Set font for Japanese
\setCJKmainfont{IPAexGothic}

% Set font for English
\setmainfont{Arial}

% Configure furigana separation and font size
\renewcommand{\rubysep}{0.2ex}
\renewcommand{\rubysize}{0.6}

%%%%%%%%%%%% Convenience commands
%%% stolen from https://tex.stackexchange.com/questions/141367/how-can-i-reference-the-current-subsection-number
% Grabs current section number
\makeatletter
\newcommand{\getCurrentSectionNumber}{%
  \ifnum\c@section=0 %
  \thechapter
  \else
  \ifnum\c@subsection=0 %
  \thesection
  \else
  \ifnum\c@subsubsection=0 %
  \thesubsection
  \else
  \thesubsubsection
  \fi
  \fi
  \fi
}
\makeatother
%%%

% Create a 40mm long 1pt thick line. Good to separate parts within a section
\newcommand{\sectionSplit}{\rule{40mm}{1pt}}

% Creates a new chapter named after argument 1, creates a label, and includes latex from document in argument 2
\newcommand{\inputchapter}[2]{\section{Chapter #1}\label{\getCurrentSectionNumber}\input{chapters/#2}}
% Create a subsection named after argument 1, creates a label, and indents the contents of argument 2
\newcommand{\sub}[2]{\subsection{#1}\label{\getCurrentSectionNumber}{\begin{adjustwidth}{10mm}{0pt}#2\end{adjustwidth}}}
%%%%%%%%%%%% 

\title{Genki Grammar}

\begin{document}

% \maketitle
\tableofcontents

\inputchapter{1}{01.tex}
\inputchapter{2}{02.tex}
\inputchapter{3}{03.tex}
\inputchapter{4}{04.tex}
\inputchapter{5}{05.tex}
\inputchapter{6}{06.tex}

\end{document}
